(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{104:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a(5),i=a.n(n),s=a(32),r=a(100),o=a(12),l=function(){var e=Object(r.a)(i.a.mark(function e(t,a,n,r,l){var c,d,u,h;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=!0,d="",n){e.next=4;break}return e.abrupt("return",!0);case 4:if(n.required&&(c=""!=a.trim()&&c,d=c?"":[t]+" is required field"),!n.unique||!a.length){e.next=11;break}return e.next=8,Object(o.a)({method:"post",url:"/service/check_unique",data:(u={},Object(s.a)(u,t,a),Object(s.a)(u,"_id",l),u),headers:{Authorization:"Berear "+r}});case 8:h=e.sent,c=!h.data.result&&c,d=c?"":[t]+" should be unique";case 11:return e.abrupt("return",{isValid:c,validationMsg:d,name:t});case 12:case"end":return e.stop()}},e)}));return function(t,a,n,i,s){return e.apply(this,arguments)}}()},132:function(e,t,a){},142:function(e,t,a){"use strict";a.r(t);var n=a(19),i=a(20),s=a(22),r=a(21),o=a(29),l=a(23),c=a(0),d=a.n(c),u=a(44),h=(a(45),a(8),a(96),a(46),a(28)),p=a(6),v=a(26),m=a(98),g=a.n(m),b=a(99),f=(a(33),a(104)),w=(a(132),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(r.a)(t).call(this,e))).submitHandler=function(e){e.preventDefault();var t={};for(var n in a.state.controls)t[n]=a.state.controls[n].value;console.log(t),a.props.updateService(a.state._id,t,a.props.admintoken)},a.state={controls:{title:{value:"",validation:{required:!0,unique:!0},isValid:!1,validationMsg:""},meta_keywords:{value:"",validation:{},isValid:!0},meta_desc:{value:"",validation:{},isValid:!0},content:{value:"",validation:{},isValid:!0}},formIsValid:!1,width:0,height:0},a.props.getServiceData(a.props.match.params.serviceId,a.props.admintoken),a.handleChange=a.handleChange.bind(Object(o.a)(a)),a.updateWindowDimensions=a.updateWindowDimensions.bind(Object(o.a)(a)),a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"handleChange",value:function(e){var t=this,a=this.state.controls;a[e.target.name].value=e.target.value,Object(f.a)([e.target.name],e.target.value,a[e.target.name].validation,this.props.admintoken).then(function(e){a[e.name].isValid=e.isValid,a[e.name].validationMsg=e.validationMsg,t.setState({controls:a}),t.state.controls.title.isValid?t.setState({formIsValid:!0}):t.setState({formIsValid:!1})})}},{key:"onEditorChange",value:function(e){var t=this.state.controls;t.content.value=e,this.setState({controls:t})}},{key:"render",value:function(){var e=this,t=this.props.updateServiceResponse?d.a.createElement(v.a,{to:"/admin/service/list"}):"";return d.a.createElement(u.a,{windowHeight:this.state.height,windowWidth:this.state.width,activeKey:"service"},d.a.createElement("article",{style:{minHeight:this.state.height}},d.a.createElement("h3",null,"Edit Service"),d.a.createElement("div",{className:"Add"},t,d.a.createElement("form",{onSubmit:this.submitHandler},d.a.createElement("label",{htmlFor:"title"},"Service Title"),d.a.createElement("input",{type:"text",id:"title",name:"title",onChange:this.handleChange,placeholder:"Enter Service Title",value:this.state.controls.title.value}),d.a.createElement("span",{className:"err"},this.state.controls.title.validationMsg),d.a.createElement("br",null),d.a.createElement("label",{htmlFor:"title"},"Meta Keywords"),d.a.createElement("input",{type:"text",id:"meta_keywords",name:"meta_keywords",onChange:this.handleChange,value:this.state.controls.meta_keywords.value,placeholder:"Enter Meta Keywords"}),d.a.createElement("label",{htmlFor:"title"},"Meta Description"),d.a.createElement("input",{type:"text",id:"meta_desc",name:"meta_desc",onChange:this.handleChange,value:this.state.controls.meta_desc.value,placeholder:"Enter Meta Description"}),d.a.createElement("label",{htmlFor:"country"},"Description"),d.a.createElement(g.a,{id:"editor",editor:b,data:this.state.controls.content.value,onChange:function(t,a){var n=a.getData();e.onEditorChange(n)}}),d.a.createElement("input",{type:"submit",value:"Submit",disabled:!this.state.formIsValid})))))}},{key:"componentDidUpdate",value:function(e,t){if(this.props.singleServiceResponse!==e.singleServiceResponse){console.log("Service response"),console.log(this.props.singleServiceResponse);var a={title:{value:this.props.singleServiceResponse.title,validation:{required:!0,unique:!0},isValid:!0,validationMsg:""},meta_keywords:{value:this.props.singleServiceResponse.meta_keywords,validation:{},isValid:!0},meta_desc:{value:this.props.singleServiceResponse.meta_desc,validation:{},isValid:!0},content:{value:this.props.singleServiceResponse.content,validation:{},isValid:!0}};this.setState({_id:this.props.singleServiceResponse._id,controls:a,formIsValid:!0})}}}]),t}(c.Component));t.default=Object(h.b)(function(e){return{error:e.service.serviceError,singleServiceResponse:e.service.singleServiceResponse,singleServiceResponseMsg:e.service.singleServiceResponseMsg,updateServiceResponse:e.service.updateServiceResponse,isAuthenticated:null!==e.admin.admintoken,authRedirectPath:e.admin.authRedirectPath,admintoken:e.admin.admintoken}},function(e){return{getServiceData:function(t,a){return e(p.o(t,a))},updateService:function(t,a,n){return e(p.M(t,a,n))}}})(w)},96:function(e,t,a){"use strict";var n=a(0),i=a.n(n),s=a(97);t.a=function(e){var t=null;switch(e.btnClass){case"Default":t=i.a.createElement("button",{type:e.btnType,className:s.Default,onClick:e.click,disabled:e.disabled},e.btnText);break;default:t=i.a.createElement("button",{type:e.btnType,className:s.Default,onClick:e.click,disabled:e.disabled},e.btnText)}return t}},97:function(e,t,a){e.exports={Default:"Button_Default__3ABMs",Button:"Button_Button__1RsGI"}}}]);
//# sourceMappingURL=7.f5c800a2.chunk.js.map