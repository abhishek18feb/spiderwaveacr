(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{103:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(5),s=a.n(n),i=a(32),o=a(100),l=a(11),r=function(){var e=Object(o.a)(s.a.mark(function e(t,a,n,o,r){var c,d,u,m;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=!0,d="",n){e.next=4;break}return e.abrupt("return",!0);case 4:if(n.required&&(c=""!=a.trim()&&c,d=c?"":[t]+" is required field"),!n.unique||!a.length){e.next=11;break}return e.next=8,Object(l.a)({method:"post",url:"/cms/check_unique",data:(u={},Object(i.a)(u,t,a),Object(i.a)(u,"_id",r),u),headers:{Authorization:"Berear "+o}});case 8:m=e.sent,c=!m.data.result&&c,d=c?"":[t]+" should be unique";case 11:return e.abrupt("return",{isValid:c,validationMsg:d,name:t});case 12:case"end":return e.stop()}},e)}));return function(t,a,n,s,i){return e.apply(this,arguments)}}()},129:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(19),s=a(20),i=a(22),o=a(21),l=a(29),r=a(23),c=a(0),d=a.n(c),u=a(44),m=(a(45),a(8),a(96),a(46),a(28)),p=a(6),h=a(26),v=a(98),g=a.n(v),b=a(99),f=(a(33),a(103)),w=(a(129),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).submitHandler=function(e){e.preventDefault();var t={};for(var n in a.state.controls)t[n]=a.state.controls[n].value;console.log(t),a.props.updateCms(a.state._id,t,a.props.admintoken)},a.state={_id:null,controls:{page_name:{value:"",validation:{required:!0},isValid:!1,validationMsg:""},title:{value:"",validation:{required:!0},isValid:!1,validationMsg:""},meta_keywords:{value:"",validation:{},isValid:!0},meta_desc:{value:"",validation:{},isValid:!0},content:{value:"",validation:{},isValid:!0}},formIsValid:!1,width:0,height:0},console.log(a.props.match.params.cmsId),a.props.getCmsData(a.props.match.params.cmsId,a.props.admintoken),a.handleChange=a.handleChange.bind(Object(l.a)(a)),a.updateWindowDimensions=a.updateWindowDimensions.bind(Object(l.a)(a)),a}return Object(r.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"handleChange",value:function(e){var t=this,a=this.state.controls;a[e.target.name].value=e.target.value,Object(f.a)([e.target.name],e.target.value,a[e.target.name].validation,this.props.admintoken,this.state._id).then(function(e){a[e.name].isValid=e.isValid,a[e.name].validationMsg=e.validationMsg,t.setState({controls:a}),t.state.controls.page_name.isValid&&t.state.controls.title.isValid?t.setState({formIsValid:!0}):t.setState({formIsValid:!1})})}},{key:"onEditorChange",value:function(e){var t=this.state.controls;t.content.value=e,this.setState({controls:t})}},{key:"render",value:function(){var e=this,t=this.props.updateCmsResponse?d.a.createElement(h.a,{to:"/admin/cms/list"}):"";return d.a.createElement(u.a,{windowHeight:this.state.height,windowWidth:this.state.width,activeKey:"cms"},d.a.createElement("article",{style:{minHeight:this.state.height}},d.a.createElement("h3",null,"Add New Cms"),t,d.a.createElement("div",{className:"Add"},d.a.createElement("form",{onSubmit:this.submitHandler},d.a.createElement("label",{htmlFor:"lname"},"CMS Name"),d.a.createElement("input",{type:"text",id:"lname",name:"page_name",value:this.state.controls.page_name.value,onChange:this.handleChange,placeholder:"Enter Page Name"}),d.a.createElement("span",{className:"err"},this.state.controls.page_name.validationMsg),d.a.createElement("br",null),d.a.createElement("label",{htmlFor:"title"},"CMS Title"),d.a.createElement("input",{type:"text",id:"title",name:"title",value:this.state.controls.title.value,onChange:this.handleChange,placeholder:"Enter Cms Title"}),d.a.createElement("span",{className:"err"},this.state.controls.title.validationMsg),d.a.createElement("br",null),d.a.createElement("label",{htmlFor:"title"},"Meta Keywords"),d.a.createElement("input",{type:"text",id:"meta_keywords",name:"meta_keywords",value:this.state.controls.meta_keywords.value,onChange:this.handleChange,placeholder:"Enter Meta Keywords"}),d.a.createElement("label",{htmlFor:"title"},"Meta Description"),d.a.createElement("input",{type:"text",id:"meta_desc",name:"meta_desc",value:this.state.controls.meta_desc.value,onChange:this.handleChange,placeholder:"Enter Meta Description"}),d.a.createElement("label",{htmlFor:"country"},"Description"),d.a.createElement(g.a,{id:"editor",editor:b,data:this.state.controls.content.value,onChange:function(t,a){var n=a.getData();e.onEditorChange(n)}}),d.a.createElement("input",{type:"submit",value:"Submit",disabled:!this.state.formIsValid})))))}},{key:"componentDidUpdate",value:function(e,t){if(this.props.cmsResponse!==e.cmsResponse){console.log("Cms response"),console.log(this.props.cmsResponse);var a={page_name:{value:this.props.cmsResponse.page_name,validation:{required:!0,unique:!0},isValid:!0,validationMsg:""},title:{value:this.props.cmsResponse.title,validation:{required:!0,unique:!0},isValid:!0,validationMsg:""},meta_keywords:{value:this.props.cmsResponse.meta_keywords,validation:{},isValid:!0},meta_desc:{value:this.props.cmsResponse.meta_desc,validation:{},isValid:!0},content:{value:this.props.cmsResponse.content,validation:{},isValid:!0}};this.setState({_id:this.props.cmsResponse._id,controls:a,formIsValid:!0})}}}]),t}(c.Component));t.default=Object(m.b)(function(e){return{admintoken:e.admin.admintoken,cmsResponse:e.cms.singleCmsResponse,cmsResponseMsg:e.cms.singleCmsResponseMsg,cmsError:e.cms.cmsError,updateCmsResponse:e.cms.updateCmsResponse}},function(e){return{getCmsData:function(t,a){return e(p.l(t,a))},updateCms:function(t,a,n){return e(p.J(t,a,n))}}})(w)},96:function(e,t,a){"use strict";var n=a(0),s=a.n(n),i=a(97);t.a=function(e){var t=null;switch(e.btnClass){case"Default":t=s.a.createElement("button",{type:e.btnType,className:i.Default,onClick:e.click,disabled:e.disabled},e.btnText);break;default:t=s.a.createElement("button",{type:e.btnType,className:i.Default,onClick:e.click,disabled:e.disabled},e.btnText)}return t}},97:function(e,t,a){e.exports={Default:"Button_Default__3ABMs",Button:"Button_Button__1RsGI"}}}]);
//# sourceMappingURL=5.ce30bb7e.chunk.js.map