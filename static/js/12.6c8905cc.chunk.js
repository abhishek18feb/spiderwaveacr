(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{136:function(e,t,i){"use strict";i.r(t);var a=i(32),n=i(19),l=i(20),o=i(22),s=i(21),r=i(29),d=i(23),p=i(0),u=i.n(p),c=i(44),h=i(45),m=i(8),g=i(96),v=(i(46),i(28)),f=i(6),b=i(26),y=(i(33),function(e){function t(e){var i;return Object(n.a)(this,t),(i=Object(o.a)(this,Object(s.a)(t).call(this,e))).submitHandler=function(e){e.preventDefault();var t=new FormData;t.append("logo",i.state.profileLogo),t.append("email",i.state.controls.email.value),t.append("phone",i.state.controls.phone.value),t.append("facebook",i.state.controls.facebook.value),t.append("instagram",i.state.controls.instagram.value),t.append("twitter",i.state.controls.twitter.value),console.log("Admin Token"+i.props.admintoken),i.props.updateSetting(t,i.props.admintoken)},i.state={profileLogo:null,controls:{email:{elementType:"text",elementConfig:{type:"email",placeholder:"Display Email"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1,label:"Email"},phone:{elementType:"input",elementConfig:{type:"text",placeholder:"Display Phone"},value:"",validation:{required:!0},valid:!1,touched:!1,label:"Phone"},facebook:{elementType:"input",elementConfig:{type:"text",placeholder:"Facebook Id"},value:"",validation:{required:!1},valid:!0,touched:!1,label:"Facebook"},instagram:{elementType:"input",elementConfig:{type:"text",placeholder:"Instagram Share"},value:"",validation:{required:!1},valid:!0,touched:!1,label:"Instagram"},twitter:{elementType:"input",elementConfig:{type:"text",placeholder:"Instagram Share"},value:"",validation:{required:!1},valid:!0,touched:!1,label:"Twitter"},logo:{elementType:"input",elementConfig:{type:"file",placeholder:"Instagram Share"},value:"",validation:{required:!1},valid:!0,touched:!1,label:"Upload Logo"}},width:0,height:0,formIsValid:!1,imagePreviewUrl:""},i.updateWindowDimensions.bind(Object(r.a)(i)),i.props.fetchSiteSetting(i.props.admintoken),console.log(i.props.admintoken),console.log(i.props.siteSettingResponse),i}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions()}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"inputChangedHandler",value:function(e,t){var i=this;if("logo"===t){var n=new FileReader,l=e.target.files[0];n.onloadend=function(){i.setState({imagePreviewUrl:n.result})},this.setState({profileLogo:e.target.files[0],height:window.innerHeight+75}),n.readAsDataURL(l)}else{var o=Object(m.b)(this.state.controls,Object(a.a)({},t,Object(m.b)(this.state.controls[t],{value:e.target.value,valid:Object(m.a)(e.target.value,this.state.controls[t].validation),touched:!0}))),s=!0;for(var r in o)s=o[r].valid&&s;this.setState({controls:o,formIsValid:s})}}},{key:"render",value:function(){var e=this,t=this.state.imagePreviewUrl,i=null;i=t?u.a.createElement("img",{src:t,style:{height:"100px",withd:"100px"}}):u.a.createElement("div",{className:"previewText"},"Please select an Image for Preview");var a=[];for(var n in this.state.controls)a.push({id:n,config:this.state.controls[n]});var l=a.map(function(t){return u.a.createElement(h.a,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched,label:t.config.label,changed:function(i){return e.inputChangedHandler(i,t.id)}})}),o=null;return this.props.isAuthenticated||(o=u.a.createElement(b.a,{to:"/admin/"})),u.a.createElement(c.a,{windowHeight:this.state.height+100,windowWidth:this.state.width},o,u.a.createElement("article",{style:{minHeight:this.state.height}},u.a.createElement("h1",null,"Setting"),u.a.createElement("form",{onSubmit:this.submitHandler},l,u.a.createElement("div",{className:"imgPreview"},i),u.a.createElement(g.a,{btnType:"submit",btnClass:"Default",btnText:"Submit",disabled:!this.state.formIsValid}))))}},{key:"componentDidUpdate",value:function(e,t){if(this.props.siteSettingResponse!==e.siteSettingResponse&&(console.log("Site setting response"),console.log(this.props.siteSettingResponse),this.props.siteSettingResponse)){var i={email:{elementType:"text",elementConfig:{type:"email",placeholder:"Display Email"},value:this.props.siteSettingResponse.email,validation:{required:!0,isEmail:!0},valid:!0,touched:!1,label:"Email"},phone:{elementType:"input",elementConfig:{type:"text",placeholder:"Display Phone"},value:this.props.siteSettingResponse.phone,validation:{required:!0},valid:!0,touched:!1,label:"Phone"},facebook:{elementType:"input",elementConfig:{type:"text",placeholder:"Facebook Id"},value:this.props.siteSettingResponse.facebook,validation:{required:!1},valid:!0,touched:!1,label:"Facebook"},instagram:{elementType:"input",elementConfig:{type:"text",placeholder:"Instagram Share"},value:this.props.siteSettingResponse.instagram,validation:{required:!1},valid:!0,touched:!1,label:"Instagram"},twitter:{elementType:"input",elementConfig:{type:"text",placeholder:"Instagram Share"},value:this.props.siteSettingResponse.twitter,validation:{required:!1},valid:!0,touched:!1,label:"Twitter"},logo:{elementType:"input",elementConfig:{type:"file",placeholder:"Instagram Share"},value:"",validation:{required:!1},valid:!0,touched:!1,label:"Upload Logo"}};console.log(i),this.setState({controls:i,formIsValid:!0,imagePreviewUrl:this.props.siteSettingResponse.logopath}),clearTimeout()}}}]),t}(p.PureComponent));t.default=Object(v.b)(function(e){return{error:e.siteSetting.siteSettingError,siteSettingResponse:e.siteSetting.siteSettingResponse,siteSettingResponseMsg:e.siteSetting.siteSettingResponseMsg,isAuthenticated:null!==e.admin.admintoken,authRedirectPath:e.admin.authRedirectPath,admintoken:e.admin.admintoken}},function(e){return{updateSetting:function(t,i){return e(f.P(t,i))},fetchSiteSetting:function(t){return e(f.D(t))}}})(y)},96:function(e,t,i){"use strict";var a=i(0),n=i.n(a),l=i(97);t.a=function(e){var t=null;switch(e.btnClass){case"Default":t=n.a.createElement("button",{type:e.btnType,className:l.Default,onClick:e.click,disabled:e.disabled},e.btnText);break;default:t=n.a.createElement("button",{type:e.btnType,className:l.Default,onClick:e.click,disabled:e.disabled},e.btnText)}return t}},97:function(e,t,i){e.exports={Default:"Button_Default__3ABMs",Button:"Button_Button__1RsGI"}}}]);
//# sourceMappingURL=12.6c8905cc.chunk.js.map